{"version":3,"sources":["../../ts/public/response_parser.js"],"names":[],"mappings":";;;;;;;;;AACA,mBAAO,QAAP,CAAgB,CAAC,QAAD,CAAhB,EAA4B,UAAS,SAAT,EAAoB;AAC5C,oBAAI,QAAJ;AACA,oBAAI,cAAJ;AACA,yBAAS,SAAT,CAAmB,GAAnB,EAAwB,KAAxB,EAA+B;AAC3B,wBAAI,KAAJ,IAAa,KAAb;AACH;AACD,uBAAO;AACH,6BAAQ,CACJ,UAAU,UAAV,EAAsB;AAClB,mCAAW,UAAX;AACH,qBAHG,CADL;AAKH,6BAAS,mBAAW;AAChB,yCAAkB,YAAY;AAC1B,qCAAS,cAAT,GAA0B,CACzB;AACD,2CAAe,SAAf,CAAyB,KAAzB,GAAiC,UAAU,KAAV,EAAiB,OAAjB,EAA0B;AACvD,oCAAI,CAAC,OAAD,IAAY,QAAQ,OAAR,CAAgB,MAAhB,KAA2B,CAA3C,EAA8C;AAC1C,2CAAO,EAAP;AACH;AACD,oCAAI,aAAa,QAAQ,OAAR,CAAgB,CAAhB,CAAjB;AACA,oCAAI,CAAC,WAAW,MAAhB,EAAwB;AACpB,2CAAO,EAAP;AACH;AACD,oCAAI,MAAM,EAAV;AACA,yCAAS,OAAT,CAAiB,IAAjB,CAAsB,WAAW,MAAjC,EAAyC,UAAU,KAAV,EAAiB;AACtD,6CAAS,OAAT,CAAiB,IAAjB,CAAsB,MAAM,MAA5B,EAAoC,UAAU,KAAV,EAAiB;AACjD,4CAAI,SAAS,OAAT,CAAiB,OAAjB,CAAyB,KAAzB,CAAJ,EAAqC;AACjC,sDAAU,GAAV,EAAe,MAAM,CAAN,CAAf;AACH,yCAFD,MAGK;AACD,sDAAU,GAAV,EAAe,KAAf;AACH;AACJ,qCAPD;AAQH,iCATD;AAUA,uCAAO,SAAS,OAAT,CAAiB,GAAjB,CAAqB,GAArB,EAA0B,UAAU,KAAV,EAAiB;AAC9C,2CAAO,EAAE,MAAM,KAAR,EAAP;AACH,iCAFM,CAAP;AAGH,6BAtBD;AAuBA,mCAAO,cAAP;AACH,yBA3BgB,EAAjB;AA4BA,kCAAU,SAAV,EAAqB,cAArB;AACH;AAnCE,iBAAP;AAqCH,aA3CD","file":"response_parser.js","sourcesContent":["///<reference path=\"app/headers/common.d.ts\" />\nSystem.register(['lodash'], function(exports_1) {\n    var lodash_1;\n    var ResponseParser;\n    function addUnique(arr, value) {\n        arr[value] = value;\n    }\n    return {\n        setters:[\n            function (lodash_1_1) {\n                lodash_1 = lodash_1_1;\n            }],\n        execute: function() {\n            ResponseParser = (function () {\n                function ResponseParser() {\n                }\n                ResponseParser.prototype.parse = function (query, results) {\n                    if (!results || results.results.length === 0) {\n                        return [];\n                    }\n                    var sqlResults = results.results[0];\n                    if (!sqlResults.series) {\n                        return [];\n                    }\n                    var res = {};\n                    lodash_1.default.each(sqlResults.series, function (serie) {\n                        lodash_1.default.each(serie.values, function (value) {\n                            if (lodash_1.default.isArray(value)) {\n                                addUnique(res, value[0]);\n                            }\n                            else {\n                                addUnique(res, value);\n                            }\n                        });\n                    });\n                    return lodash_1.default.map(res, function (value) {\n                        return { text: value };\n                    });\n                };\n                return ResponseParser;\n            })();\n            exports_1(\"default\", ResponseParser);\n        }\n    }\n});\n//# sourceMappingURL=response_parser.js.map"]}